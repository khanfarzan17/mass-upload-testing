"use strict";(self.webpackChunkreact_widget_template=self.webpackChunkreact_widget_template||[]).push([[388],{3728:(e,o,t)=>{t.d(o,{A:()=>r});var s=t(9379),n=t(45),l=(t(5043),t(8155)),i=t(579);const a=["variant","size","type","disabled","onClick","className","title","text","imageSrc"],r=e=>{let{variant:o="primary",size:t="md",type:r="button",disabled:d=!1,onClick:c,className:h="",title:g,text:u,imageSrc:p}=e,m=(0,n.A)(e,a);return(0,i.jsxs)(l.A,(0,s.A)((0,s.A)({variant:o,size:t,type:r,disabled:d,onClick:c,className:h,title:g},m),{},{children:[p&&(0,i.jsx)("img",{src:p,alt:u,style:{width:"20px",height:"20px",marginRight:"5px"}})," ",u]}))}},2725:(e,o,t)=>{t.d(o,{A:()=>a});var s=t(9379),n=t(45),l=t(2115);const i=["message","type","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","pauseOnFocusLoss","draggable","theme","transition"],a=()=>{const e=e=>{let{message:o,type:t="default",position:a="top-right",autoClose:r=2e3,hideProgressBar:d=!1,closeOnClick:c=!0,pauseOnHover:h=!1,pauseOnFocusLoss:g=!1,draggable:u=!0,theme:p="light",transition:m=l.br}=e,x=(0,n.A)(e,i);(l.oR[t]||l.oR)(o,(0,s.A)({position:a,autoClose:r,hideProgressBar:d,closeOnClick:c,pauseOnHover:h,draggable:u,theme:p,transition:m},x))};return{showToast:e,showSuccessToast:function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,s.A)({message:o,type:"success"},t))},showErrorToast:function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,s.A)({message:o,type:"error"},t))},showInfoToast:function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,s.A)({message:o,type:"info"},t))},showWarningToast:function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e((0,s.A)({message:o,type:"warn"},t))}}}},388:(e,o,t)=>{t.r(o),t.d(o,{default:()=>A});var s=t(5043),n=t(4391),l=(t(2342),t(9555),t(3003)),i=t(2670),a=t(2115),r=(t(8421),t(4050),t(9959),t(1238)),d=t(2327),c=t(2691),h=t(3728),g=t(7680),u=t(579);const p=e=>{let{fileTypes:o=["JPEG","PNG","GIF","XLSX","CSV"],multiple:t=!0,onUpload:n}=e;const[l,i]=(0,s.useState)([]),a=()=>{i([]),n&&n([])};return(0,u.jsxs)("div",{className:"file-upload-container",children:[(0,u.jsx)("h2",{children:"Drag & Drop Files"}),(0,u.jsxs)("div",{className:"upload-area",children:[(0,u.jsx)(g.l,{multiple:t,handleChange:e=>{const o=t?[...e]:[e];i(o),n&&n(o)},name:"file",types:o}),(0,u.jsx)("div",{className:"file-list",children:l.length>0?l.map(((e,o)=>(0,u.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,u.jsxs)("p",{style:{marginRight:"10px"},children:["\ud83d\udcc1 ",e.name]}),(0,u.jsx)("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",color:"red",marginBottom:"10px"},children:"X"})]},o))):(0,u.jsx)("p",{children:"No files uploaded yet."})})]})]})};var m=t(6245),x=t(8155);const j=e=>{let{show:o,onHide:t,title:s,children:n,footerButtons:l}=e;return(0,u.jsxs)(m.A,{show:o,onHide:t,size:"lg",centered:!0,children:[(0,u.jsx)(m.A.Header,{closeButton:!0,children:(0,u.jsx)(m.A.Title,{children:s||"Modal Title"})}),(0,u.jsx)(m.A.Body,{children:n}),(0,u.jsx)(m.A.Footer,{children:l?l.map(((e,o)=>(0,u.jsx)(x.A,{variant:e.variant||"secondary",onClick:e.onClick,children:e.label},o))):(0,u.jsx)(x.A,{variant:"secondary",onClick:t,children:"Close"})})]})};var y=t(6047),w=t(2725);const f=()=>{const[e,o]=(0,s.useState)(!1),[t,n]=(0,s.useState)(""),[l,i]=(0,s.useState)(null),[a,g]=(0,s.useState)([]),{showErrorToast:m}=(0,w.A)(),x=(e,o)=>{console.log("\ud83d\udd0d Validating uploaded data...");let t=[];return e.forEach(((e,s)=>{o.forEach((o=>{e[o]&&""!==e[o].trim()||t.push("Row ".concat(s+1,": ").concat(o," is missing"))}))})),console.log("\ud83d\udd0e Validation complete. Missing fields:",t),t};return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(d.A,{className:"mt-3",gap:4,children:[(0,u.jsxs)(d.A,{direction:"horizontal",children:[(0,u.jsxs)(c.A.Select,{"aria-label":"Choose Operations",style:{width:"30%",border:"1px solid #007bff",borderRadius:"8px"},onChange:e=>{console.log("\ud83d\udccc Selected Operation:",e.target.value),n(e.target.value)},children:[(0,u.jsx)("option",{value:"",children:"Choose Operations"}),(0,u.jsx)("option",{value:"1",children:"Physical Product/Raw Material"}),(0,u.jsx)("option",{value:"2",children:"Physical Product Structure"}),(0,u.jsx)("option",{value:"3",children:"Document"}),(0,u.jsx)("option",{value:"4",children:"Physical Product-Document"})]}),(0,u.jsx)(h.A,{variant:"link ms-auto btn-lg",onClick:()=>{console.log("\u2b07\ufe0f Downloading template for operation:",t),(0,y.Ti)(m)(t)},text:"Download Template"})]}),(0,u.jsx)(p,{fileTypes:["XLSX"],multiple:!1,onUpload:async e=>{if(console.log("\ud83d\udcc2 File selected:",e),0===e.length)return void console.log("\u26a0\ufe0f No file selected.");const t=e[0];console.log("\ud83d\udcc4 Reading file:",t.name);const s=new FileReader;s.onload=async e=>{console.log("\u2705 File successfully read.");const t=new Uint8Array(e.target.result),s=r.LF(t,{type:"array"}),n=s.SheetNames[0];console.log("\ud83d\udcdc Sheet Name:",n);const l=s.Sheets[n],a=r.Wp.sheet_to_json(l);console.log("\ud83d\udcca Parsed XLSX Data:",a),i(a);try{console.log("\ud83d\udd04 Fetching config.json...");const e=await fetch("/config.json"),t=await e.json();console.log("\u2699\ufe0f Config Data:",t);const s=t.mandatoryFields;console.log("\ud83d\udcdd Mandatory Fields:",s);const n=x(a,s);n.length>0?(console.log("\u274c Missing Fields Found:",n),g(n),o(!0)):console.log("\u2705 All required fields are present.")}catch(d){console.error("\u274c Error fetching config.json:",d)}},s.readAsArrayBuffer(t)}}),(0,u.jsxs)(d.A,{direction:"horizontal",children:[(0,u.jsx)(c.A.Check,{type:"checkbox",label:"background"}),(0,u.jsx)(h.A,{variant:"primary ms-auto",text:"Submit"})]})]}),(0,u.jsx)(j,{show:e,onHide:()=>o(!1),title:"Missing Mandatory Fields",children:a.length>0?(0,u.jsx)("ul",{children:a.map(((e,o)=>(0,u.jsx)("li",{style:{color:"red"},children:e},o)))}):(0,u.jsx)("p",{children:"No errors found"})})]})};let v=null;function A(){if(window.widget){let e=!1;window.widget.addEvent("onLoad",(()=>{e?console.warn("[index.js] \u23f3 onLoad was already executed. Ignoring duplicate trigger."):(e=!0,function(){var e,o;requirejs(["DS/PlatformAPI/PlatformAPI"],(e=>{window.PlatformAPI=e}));let t=(null===(e=window.widget)||void 0===e||null===(o=e.body)||void 0===o?void 0:o.querySelector("#root"))||document.getElementById("root");t||(t=document.createElement("div"),t.id="root",window.widget&&window.widget.body?window.widget.body.appendChild(t):document.body.appendChild(t)),v||(v=n.createRoot(t)),v.render((0,u.jsxs)(l.Kq,{store:i.A,children:[(0,u.jsx)(f,{}),(0,u.jsx)(a.N9,{})]}))}())}))}else console.error("[index.js] \u274c Widget not detected! onLoad cannot be registered.")}},4050:()=>{},9555:()=>{},9959:()=>{}}]);
//# sourceMappingURL=388.65c39003.chunk.js.map